<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }} | Dandan Wei</title>

    <link rel="stylesheet" href="assets/css/style.css">
  </head>

  <body>
    <canvas id="stars"></canvas>   <!-- ðŸŒŒ æ˜Ÿç©ºå±‚ --> 
    <nav>
      <div class="nav-left"><strong>ISTA Â· Dandan Wei</strong></div>
      <div class="nav-right">
        <a href="/">Home</a>
        <a href="/research">Research</a>
        <a href="/publications">Publications</a>
        <a href="/cv">CV</a>
      </div>
    </nav>

    <main class="page-content">
      {{ content }}
    </main>

    <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ“</button>

    <footer>
      <p>Â© 2025 Dandan Wei â€” stay with <span class="star">ðŸ’«</span> at ISTA</p>
    </footer>





    <script>
      // ðŸŒ  Draw subtle stars in the background
      const canvas = document.getElementById("stars");
      const ctx = canvas.getContext("2d");

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      window.addEventListener("resize", resizeCanvas);
      resizeCanvas();

      const stars = Array.from({ length: 120 }, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 1.2,
        o: 0.6 + Math.random() * 0.4,
        d: Math.random() * 0.02 + 0.002,
      }));

      function animateStars() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let s of stars) {
          ctx.beginPath();
          ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(160,200,255,${s.o})`;
          ctx.fill();
          s.o += s.d;
         if (s.o > 1 || s.o < 0.4) s.d = -s.d;
       }
       requestAnimationFrame(animateStars);
     }
     animateStars();
  </script>



    
    <script>
      function toggleTheme() {
        const body = document.body;
        const current = body.getAttribute("data-theme");
        const next = current === "dark" ? "light" : "dark";
        body.setAttribute("data-theme", next);
        localStorage.setItem("theme", next);
      }

      // Load stored theme or default to dark
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
      document.body.setAttribute("data-theme", savedTheme);
    } else {
      document.body.setAttribute("data-theme", "dark");
      localStorage.setItem("theme", "dark");
    }

  
    </script>
  </body>
</html>
